Personal vibe is no longer blocked on low-level logging—the unified “*_base.log” contract, the `_log_to` tee helper and the test-suite that guards them are already merged.  What is still painful for the solo developer is (a) hand-feeding earlier assistant / user turns back into every new prompt, and (b) the YAML boiler-plate that must be edited each time to point to a milestone file that is, by definition, named after the config itself.  The next milestone therefore centres on “Self-contained Context & Schema v2”: adding a first-class conversation_history field, dropping milestone_file_name, and wiring all code-paths so the runtime can emit what it *thinks* the history is—giving the user visibility long before any hard validation.

This milestone is intentionally scoped as a *process enabler* rather than a product feature.  By letting the user pass an arbitrary list of {role, content} pairs straight from the YAML we remove the manual “glue” step, reduce copy-paste errors, and create the telemetry we will need when we later introduce strict schema checks and auto-retry logic.  The work is bigger than one 20 k-char LLM output, but it naturally falls into four cohesive chunks (≈36 k chars total) that can each be executed, tested and rolled back independently.

--------------------------------------------------------------------
1. Evaluate current state
--------------------------------------------------------------------
• Logging harness finished; contract enforced by tests
• Config schema still v1: has obsolete milestone_file_name and no conversation_history
• run_pipeline hard-codes template path logic that will break once milestone_file_name is removed
• Retry/rollback engine exists but has no visibility of conversation replay
• Docs lack guidance for newcomers about supplying history or running front-end code later

--------------------------------------------------------------------
2. Next major milestone
--------------------------------------------------------------------
“Conversation History & Schema v2” (semver 1.2.0)
Goal: allow YAML configs to embed prior assistant|user turns, automatically pipe that history into prompt generation, and surface the live history in logs for manual inspection.  Side-quest: delete milestone_file_name everywhere.

--------------------------------------------------------------------
3. Approximate size of work
--------------------------------------------------------------------
• src/personalvibe/run_pipeline.py ........................ 5 k
• src/personalvibe/vibe_utils.py .......................... 6 k
• New pydantic model + tests .............................. 6 k
• Update command templates & docs ......................... 7 k
• On-boarding & examples (React note + README) ............ 4 k
≈ 28 k characters → requires chunking.

--------------------------------------------------------------------
4. Chunking plan (< 5 chunks, each < 20 k)
--------------------------------------------------------------------
Chunk A – Pydantic Schema v2 & Fixtures (≈7 k)
  • Add conversation_history: List[Dict[str,str]] | None
  • Remove milestone_file_name; mark deprecated field ignored
  • Unit tests for valid & invalid YAML examples
  • Generate sample YAML 1.2.0 under prompts/personalvibe/configs

Chunk B – Pipeline & Utils Wiring (≈8 k)
  • Update run_pipeline to read config.conversation_history and pass it to vibe_utils.get_vibed()
  • Modify get_replacements() to inject {{conversation_history}} into template rendering when present
  • Ensure fallback behaviour unchanged when field absent
  • Add pytest proving that history lines appear in rendered prompt

Chunk C – Runtime Echo & Logging (≈6 k)
  • Enhance logger: when verbosity=verbose and conversation_history not empty, pretty-print it at start-up
  • Append a HISTORY-STAMP line into <run_id>.log so user can grep
  • Test: capture log and assert formatting

Chunk D – Template & Documentation Pass (≈5 k)
  • Patch prompts/personalvibe/commands/{milestone,sprint}.md to mention new field, remove milestone_file_name references
  • Add docs/conversation_history.md with examples, pitfalls, FAQ
  • Expand README with React/SPA first-steps pointing to future work

--------------------------------------------------------------------
5. Recommended execution order
--------------------------------------------------------------------
1 → Chunk A – Schema is the scaffolding; nothing else builds without it.
2 → Chunk B – Wire the execution path while tests still target simple log output.
3 → Chunk C – Logging depends on the new data flowing through.
4 → Chunk D – Docs last: they cannot stabilise until behaviour is frozen.

--------------------------------------------------------------------
(two introductory paragraphs already provided at top)
### END PROMPT
